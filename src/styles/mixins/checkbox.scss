@use "sass:map";
@use "../variables";

%checkbox {
  display: flex;
  align-items: center;
  position: relative;
  user-select: none;
}

%checkbox-input {
  display: flex;
  align-items: center;
  justify-content: center;
  border: var(--border-width) solid;
}

@mixin checkbox-colors() {
  .checkbox input {
    border-color: var(--outline);
  }

  .checkbox input:checked {
    border-color: var(--primary);
    background-color: var(--primary);
  }

  .checkbox input:checked + svg {
    color: var(--on-primary);
  }

  @each $color in error, success {
    .checkbox-#{$color} input,
    .checkbox-#{$color} input:checked {
      border-color: var(--#{$color});
    }

    .checkbox-#{$color} input:checked {
      background-color: var(--#{$color});
    }
  }

  .checkbox-disabled input,
  .checkbox-disabled input:checked {
    border-color: var(--outline);
  }

  .checkbox-disabled input:checked {
    background-color: var(--outline);
  }

  .checkbox-disabled input:checked + svg {
    color: var(--on-primary);
  }
}

@mixin checkbox-sizes() {
  @each $size in sm, md, lg {
    $width: map.get(variables.$checbox-sizes, $size);
    $height: map.get(variables.$checbox-sizes, $size);
    $gap: map.get(variables.$checbox-gap, $size);
    $icon-size: map.get(variables.$icon-sizes, $size);

    .checkbox-#{$size} {
      gap: $gap;
    }

    .checkbox-#{$size} input {
      width: $width;
      height: $height;
    }

    .checkbox-#{$size} input + svg {
      left: calc(($width - $icon-size) / 2);
    }
  }
}
